let savedUserName,savedMail,feedbackWindow=document.querySelector(".feedback"),feebackButton=document.querySelector(".write-us"),feedBackCloseButton=document.querySelector(".feedback .close-button"),userNameInput=feedbackWindow.querySelector("[name=user-name]"),feedbackForm=feedbackWindow.querySelector("form"),userMailInput=feedbackWindow.querySelector("[name=user-mail]"),isLocalStorageSupported=!0;try{savedUserName=localStorage.getItem("userName"),savedMail=localStorage.getItem("userMail")}catch(a){isLocalStorageSupported=!1}feebackButton.addEventListener("click",function(a){a.preventDefault(),feedbackWindow.classList.remove("hidden-window"),feedbackWindow.classList.add("show-window"),userNameInput.focus(),savedUserName&&(userNameInput.value=savedUserName),savedMail&&(userMailInput.value=savedMail)}),feedBackCloseButton.addEventListener("click",function(){feedbackWindow.classList.add("hidden-window"),feedbackWindow.classList.remove("show-window"),feedbackWindow.classList.remove("modal-error")}),feedbackForm.addEventListener("submit",function(a){userNameInput.value&&userMailInput.value?isLocalStorageSupported&&(localStorage.setItem("userName",userNameInput.value),localStorage.setItem("userMail",userMailInput.value)):(a.preventDefault(),feedbackWindow.classList.remove("modal-error"),feedbackWindow.offsetWidth=feedbackWindow.offsetWidth,feedbackWindow.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27!==a.keyCode||feedbackWindow.classList.contains("hidden-window")||(a.preventDefault(),feedbackWindow.classList.add("hidden-window"),feedbackWindow.classList.remove("show-window"),feedbackWindow.classList.remove("modal-error"))});